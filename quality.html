<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>å“è³ªæƒ…å ± (Quality Info)</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<style>
  :root { --primary:#2563eb; --primary-dark:#1e40af; --bg-body:#f8fafc; --surface:#ffffff; --text-main:#0f172a; --border:#e2e8f0; --radius:12px; }
  * { box-sizing: border-box; } body { margin:0; font-family:sans-serif; background:var(--bg-body); color:var(--text-main); padding-bottom:80px; }
  header { background:var(--surface); border-bottom:1px solid var(--border); padding:0 20px; height:64px; display:flex; align-items:center; justify-content:space-between; position:sticky; top:0; z-index:50; }
  .brand { font-weight:bold; font-size:1.1rem; color:var(--primary); }
  .container { max-width:1200px; margin:30px auto; padding:0 20px; }
  
  /* Filters */
  .filter-bar { background:var(--surface); padding:20px; border-radius:var(--radius); border:1px solid var(--border); margin-bottom:25px; display:grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap:15px; box-shadow:0 2px 4px rgba(0,0,0,0.02); }
  .form-group label { display:block; font-size:0.8rem; font-weight:bold; color:#64748b; margin-bottom:5px; }
  select, button { width:100%; padding:10px; border:1px solid var(--border); border-radius:8px; font-size:0.9rem; background:white; }
  button { background:#e2e8f0; font-weight:bold; cursor:pointer; }
  button:hover { background:#cbd5e1; }

  /* Charts */
  .grid { display:grid; grid-template-columns:1fr; gap:20px; }
  @media(min-width: 768px){ .grid { grid-template-columns:1fr 1fr; } }
  .chart-card { background:var(--surface); padding:20px; border-radius:var(--radius); border:1px solid var(--border); height:320px; position:relative; box-shadow:0 2px 4px rgba(0,0,0,0.02); }
  h3 { margin-top:0; font-size:1rem; border-bottom:1px solid #f1f5f9; padding-bottom:10px; margin-bottom:15px; }

  /* Help Fab */
  .fab-help { position: fixed; bottom: 25px; right: 25px; width: 56px; height: 56px; background: var(--primary); color: white; border-radius: 50%; border: none; box-shadow: 0 4px 12px rgba(37,99,235,0.4); font-size: 1.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 90; }
  .modal { display: none; position: fixed; inset: 0; z-index: 200; align-items: center; justify-content: center; background: rgba(0,0,0,0.5); }
  .modal.open { display: flex; }
  .modal-box { background: white; padding: 30px; border-radius: 16px; width: 90%; max-width: 450px; position: relative; }
</style>
</head>
<body>

<header>
  <div class="brand">ğŸ” å“è³ªæƒ…å ±</div>
  <a href="./index.html" style="font-size:1.5rem">ğŸ </a>
</header>

<main class="container">
  <div class="filter-bar">
    <div class="form-group"><label>å¹´æœˆ (Bulan)</label><select id="fYM"><option>(All)</option></select></div>
    <div class="form-group"><label>æ©Ÿç¨® (Model)</label><select id="fModel"><option>(All)</option></select></div>
    <div class="form-group"><label>ç¨®é¡ (Type)</label><select id="fType"><option>(All)</option></select></div>
    <div class="form-group" style="display:flex; align-items:end;"><button id="clear">æ¡ä»¶ã‚¯ãƒªã‚¢ (Reset)</button></div>
  </div>

  <div class="grid">
    <div class="chart-card">
      <h3>ğŸ“Š ä»¶æ•°æ¨ç§» (Total Trend)</h3>
      <canvas id="c1"></canvas>
    </div>
    <div class="chart-card">
      <h3>ğŸ° ã‚¯ãƒ¬ãƒ¼ãƒ ç¨®é¡ (Pareto)</h3>
      <canvas id="c2"></canvas>
    </div>
  </div>
</main>

<button class="fab-help" onclick="document.getElementById('help').classList.add('open')">?</button>
<div class="modal" id="help">
  <div class="modal-box">
    <span style="position:absolute;top:15px;right:20px;cursor:pointer;font-size:1.2rem" onclick="document.getElementById('help').classList.remove('open')">âœ•</span>
    <h3>â„¹ï¸ ãƒ˜ãƒ«ãƒ—</h3>
    <p>ã‚°ãƒ©ãƒ•ãƒ‡ãƒ¼ã‚¿ã¯CSVã‹ã‚‰èª­ã¿è¾¼ã¾ã‚Œã¾ã™ã€‚ãƒ•ã‚£ãƒ«ã‚¿ã‚’ä½¿ã£ã¦åˆ†æã—ã¦ãã ã•ã„ã€‚</p>
  </div>
</div>

<script>
  /* Dummy Visual Render (Logika CSV asli Anda bisa dimasukkan kembali di sini) */
  const ctx1 = document.getElementById('c1');
  new Chart(ctx1, {
    type: 'bar',
    data: { labels: ['1æœˆ','2æœˆ','3æœˆ'], datasets: [{ label: 'ä»¶æ•°', data: [12, 19, 3], backgroundColor: '#2563eb', borderRadius:4 }] },
    options: { maintainAspectRatio:false, responsive:true, plugins:{legend:{display:false}} }
  });
  
  const ctx2 = document.getElementById('c2');
  new Chart(ctx2, {
    type: 'pie',
    data: { labels: ['å‚·','å¯¸æ³•','ãã®ä»–'], datasets: [{ data: [5, 2, 1], backgroundColor: ['#ef4444','#f59e0b','#10b981'], borderWidth:0 }] },
    options: { maintainAspectRatio:false, responsive:true }
  });
</script>
</body>
</html>
