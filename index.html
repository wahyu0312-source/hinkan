<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ (Dashboard)</title>
<style>
  /* --- MASTER STYLE (Biru Modern) --- */
  :root {
    --primary: #2563eb; --primary-dark: #1e40af; --accent: #0ea5e9;
    --bg-body: #f8fafc; --surface: #ffffff;
    --text-main: #0f172a; --text-muted: #64748b;
    --border: #e2e8f0; --radius: 12px;
    --shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
  }
  * { box-sizing: border-box; }
  body { margin: 0; font-family: "Helvetica Neue", Arial, sans-serif; background: var(--bg-body); color: var(--text-main); padding-bottom: 80px; }
  a { text-decoration: none; color: inherit; transition: .2s; }
  
  /* Navbar */
  header { background: var(--surface); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 50; padding: 0 20px; height: 64px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
  .brand { font-weight: bold; font-size: 1.2rem; display: flex; align-items: center; gap: 10px; color: var(--primary); }
  .nav-desktop { display: none; gap: 20px; }
  .nav-link { font-size: 0.95rem; color: var(--text-muted); padding: 8px 12px; border-radius: 6px; font-weight: 500; }
  .nav-link:hover, .nav-link.active { background: #eff6ff; color: var(--primary); }
  
  @media(min-width: 900px) { .nav-desktop { display: flex; } .burger { display: none; } }

  /* Mobile Drawer */
  .burger { background: none; border: 1px solid var(--border); padding: 8px; border-radius: 8px; cursor: pointer; color: var(--text-main); }
  .drawer { position: fixed; inset: 0; z-index: 100; display: none; }
  .drawer.open { display: block; }
  .backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(2px); }
  .drawer-content { position: absolute; top: 0; left: 0; bottom: 0; width: 280px; background: white; padding: 25px; transform: translateX(-100%); transition: .3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 5px 0 15px rgba(0,0,0,0.1); }
  .drawer.open .drawer-content { transform: translateX(0); }
  .drawer-menu { display: flex; flex-direction: column; gap: 8px; margin-top: 20px; }
  .drawer-link { padding: 12px; border-radius: 8px; font-weight: 500; color: var(--text-main); }
  .drawer-link:hover { background: #f1f5f9; }
  .drawer-link.active { background: #eff6ff; color: var(--primary); }

  /* Layout */
  .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }
  .grid { display: grid; gap: 20px; }
  .grid-2 { grid-template-columns: 1fr; }
  .grid-3 { grid-template-columns: 1fr; }
  @media(min-width: 768px) { .grid-2 { grid-template-columns: 1fr 1fr; } .grid-3 { grid-template-columns: repeat(3, 1fr); } }

  /* Cards */
  .card { background: var(--surface); padding: 24px; border-radius: var(--radius); border: 1px solid var(--border); box-shadow: var(--shadow); transition: transform 0.2s; }
  .card:hover { transform: translateY(-2px); }
  h2, h3 { margin-top: 0; margin-bottom: 15px; color: var(--text-main); }
  h3 { font-size: 1.1rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }
  
  /* Hero */
  .hero { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; border: none; }
  .hero h2 { color: white; margin-bottom: 5px; }
  .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px; text-align: center; }
  .stat-val { font-size: 1.8rem; font-weight: 800; display: block; }
  .stat-lbl { font-size: 0.8rem; opacity: 0.9; text-transform: uppercase; letter-spacing: 0.5px; }

  /* Quick Buttons */
  .btn-quick { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; background: white; border: 1px solid var(--border); border-radius: var(--radius); gap: 10px; color: var(--text-main); height: 100%; transition: .2s; }
  .btn-quick:hover { border-color: var(--primary); background: #f8fafc; }
  .btn-icon { font-size: 2rem; }

  /* Help Fab */
  .fab-help { position: fixed; bottom: 25px; right: 25px; width: 56px; height: 56px; background: var(--primary); color: white; border-radius: 50%; border: none; box-shadow: 0 4px 12px rgba(37,99,235,0.4); font-size: 1.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 90; transition: transform 0.2s; }
  .fab-help:hover { transform: scale(1.1); background: var(--primary-dark); }
  
  .modal { display: none; position: fixed; inset: 0; z-index: 200; align-items: center; justify-content: center; }
  .modal.open { display: flex; animation: fadeIn 0.2s; }
  .modal-box { background: white; padding: 30px; border-radius: 16px; max-width: 450px; width: 90%; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.2); }
  .close-modal { position: absolute; top: 15px; right: 20px; cursor: pointer; font-size: 1.2rem; color: #999; }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

  /* Utility */
  .hidden { display: none !important; }
  .badge { display: inline-block; padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
  .badge.off { background: #fee2e2; color: #991b1b; }
  .badge.on { background: #dcfce7; color: #166534; }
</style>
</head>
<body>

<header>
  <div class="brand">
    <button class="burger" id="btnMenu">â˜°</button>
    <span>å“è³ªç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </span> <!-- Quality Management System -->
  </div>
  <nav class="nav-desktop">
    <a href="./index.html" class="nav-link active">ğŸ  ãƒ›ãƒ¼ãƒ </a>
    <a href="./forms.html" class="nav-link">ğŸ“„ æˆç¸¾æ›¸</a>
    <a href="./sagyoutejunsho.html" class="nav-link">ğŸ“ æ‰‹é †æ›¸</a>
    <a href="./quality.html" class="nav-link">ğŸ” å“è³ªæƒ…å ±</a>
    <a href="./claim.html" class="nav-link">ğŸ“¢ ã‚¯ãƒ¬ãƒ¼ãƒ </a>
  </nav>
</header>

<!-- Mobile Drawer -->
<div class="drawer" id="drawer">
  <div class="backdrop" id="closeDrawer"></div>
  <div class="drawer-content">
    <h3 style="margin-top:10px;">ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (Menu)</h3>
    <div class="drawer-menu">
      <a href="./index.html" class="drawer-link active">ğŸ  ãƒ›ãƒ¼ãƒ </a>
      <a href="./forms.html" class="drawer-link">ğŸ“„ å‡ºè·æ¤œæŸ»æˆç¸¾æ›¸</a>
      <a href="./sagyoutejunsho.html" class="drawer-link">ğŸ“ ä½œæ¥­æ‰‹é †æ›¸</a>
      <a href="./quality.html" class="drawer-link">ğŸ” å“è³ªæƒ…å ±</a>
      <a href="./claim.html" class="drawer-link">ğŸ“¢ ã‚¯ãƒ¬ãƒ¼ãƒ å…¥åŠ›</a>
      <hr style="border:0; border-top:1px solid #eee; width:100%">
      <a href="./admin-prefix.html" class="drawer-link">ğŸ”‘ ç®¡ç†è€…è¨­å®š (Admin)</a>
    </div>
  </div>
</div>

<main class="container">
  <!-- Hero Section -->
  <div class="grid grid-2" style="margin-bottom: 25px;">
    <section class="card hero">
      <h2>ğŸ‘‹ ãŠç–²ã‚Œæ§˜ã§ã™</h2>
      <p style="opacity: 0.9;">æœ¬æ—¥ã®æ¥­å‹™çŠ¶æ³æ¦‚è¦ (Status Hari Ini)</p>
      <div class="stats-row">
        <div><span class="stat-val">12</span><span class="stat-lbl">æ‰¿èªå¾…ã¡</span></div>
        <div><span class="stat-val">5</span><span class="stat-lbl">é€²è¡Œä¸­</span></div>
        <div><span class="stat-val" id="adminState">OFF</span><span class="stat-lbl">ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰</span></div>
      </div>
    </section>

    <section class="card" style="border:none; background:transparent; box-shadow:none; padding:0;">
      <div class="grid grid-2" style="height:100%">
        <a href="./forms.html" class="btn-quick">
          <div class="btn-icon">ğŸ“„</div>
          <strong>æˆç¸¾æ›¸æ¤œç´¢</strong>
        </a>
        <a href="./claim.html" class="btn-quick">
          <div class="btn-icon">ğŸ“¢</div>
          <strong>ã‚¯ãƒ¬ãƒ¼ãƒ å ±å‘Š</strong>
        </a>
      </div>
    </section>
  </div>

  <!-- Secondary Content -->
  <div class="grid grid-3">
    <section class="card">
      <h3>ğŸ“‚ æœ€è¿‘ã®å±¥æ­´</h3>
      <ul style="padding-left: 20px; font-size: 0.9rem; color: var(--text-muted); line-height: 1.6;" id="recentList">
        <li>å±¥æ­´ãªã— (Belum ada history)</li>
      </ul>
    </section>

    <section class="card">
      <h3>ğŸ“ ãƒªãƒ³ã‚¯é›†</h3>
      <div style="display:flex; flex-direction:column; gap:10px;">
        <a href="https://online.fliphtml5.com/fjppt/mhky/" target="_blank" class="nav-link" style="background:white; border:1px solid #eee">ğŸ“˜ æ¤œæŸ»åŸºæº–æ›¸ (MB-XX)</a>
        <a href="#" class="nav-link" style="background:white; border:1px solid #eee">ğŸ“— ç¤¾å†…è¦å®š (Internal Rule)</a>
      </div>
    </section>

    <section class="card">
      <h3>âš™ï¸ ç®¡ç†ãƒ„ãƒ¼ãƒ«</h3>
      <div style="display:flex; flex-direction:column; gap:10px;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <span>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</span>
          <span id="badgeAdmin" class="badge off">OFF</span>
        </div>
        <button id="btnToggleAdmin" class="nav-link" style="text-align:center; border:1px solid var(--border); cursor:pointer;">ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ (Switch)</button>
        
        <!-- Hidden links show when Admin ON -->
        <a href="./admin-prefix.html" class="nav-link admin-only hidden" style="background:#fff7ed; color:#c2410c; text-align:center;">ğŸ”‘ Prefix è¨­å®š</a>
        <a href="./admin-serial-gas.html" class="nav-link admin-only hidden" style="background:#fff7ed; color:#c2410c; text-align:center;">â›½ ã‚·ãƒªã‚¢ãƒ«ç®¡ç†</a>
      </div>
    </section>
  </div>
</main>

<!-- Help Modal -->
<button class="fab-help" onclick="toggleHelp()">?</button>

<div class="modal" id="helpModal">
  <div class="backdrop" onclick="toggleHelp()"></div>
  <div class="modal-box">
    <span class="close-modal" onclick="toggleHelp()">âœ•</span>
    <h3>â„¹ï¸ ãƒ˜ãƒ«ãƒ— (Bantuan)</h3>
    <p><strong>ãƒ›ãƒ¼ãƒ ç”»é¢ã®ä½¿ã„æ–¹:</strong></p>
    <ul style="font-size:0.95rem; padding-left:20px; color:#444; line-height:1.6;">
      <li>å„ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰æ¥­å‹™ãƒšãƒ¼ã‚¸ã¸ç§»å‹•ã§ãã¾ã™ã€‚<br><small>(Gunakan menu untuk navigasi)</small></li>
      <li>ã€Œã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã€ã§ã‚ˆãä½¿ã†æ©Ÿèƒ½ã¸ã™ãé£›ã¹ã¾ã™ã€‚<br><small>(Akses cepat ke menu penting)</small></li>
      <li>ç®¡ç†è€…ã®æ–¹ã¯ã€Œãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã€ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚<br><small>(Admin login via tombol Switch)</small></li>
    </ul>
  </div>
</div>

<script>
  /* --- Shared Logic --- */
  const $ = s => document.querySelector(s);
  $('#btnMenu').onclick = () => $('#drawer').classList.add('open');
  $('#closeDrawer').onclick = () => $('#drawer').classList.remove('open');
  window.toggleHelp = () => $('#helpModal').classList.toggle('open');

  /* --- Admin Logic --- */
  const ADMIN_KEY = 'kensa_admin';
  function updateAdminUI(){
    const isAdmin = localStorage.getItem(ADMIN_KEY) === '1';
    $('#adminState').textContent = isAdmin ? 'ON' : 'OFF';
    
    const badge = $('#badgeAdmin');
    badge.textContent = isAdmin ? 'ON' : 'OFF';
    badge.className = isAdmin ? 'badge on' : 'badge off';

    document.querySelectorAll('.admin-only').forEach(el => {
      if(isAdmin) el.classList.remove('hidden'); else el.classList.add('hidden');
    });
  }

  $('#btnToggleAdmin').onclick = () => {
    if(localStorage.getItem(ADMIN_KEY) === '1'){
      if(confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ (Logout?)')) localStorage.removeItem(ADMIN_KEY);
    } else {
      if(prompt('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (Password):') === 'admin2025') localStorage.setItem(ADMIN_KEY, '1');
      else alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™ (Salah)');
    }
    updateAdminUI();
  };
  
  // Init
  updateAdminUI();
</script>
</body>
</html>
